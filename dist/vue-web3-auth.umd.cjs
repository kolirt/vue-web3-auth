(function(a,h){typeof exports=="object"&&typeof module<"u"?h(exports,require("@wagmi/core/chains"),require("vue"),require("@wagmi/core"),require("@web3modal/ethereum"),require("@web3modal/html"),require("js-event-bus")):typeof define=="function"&&define.amd?define(["exports","@wagmi/core/chains","vue","@wagmi/core","@web3modal/ethereum","@web3modal/html","js-event-bus"],h):(a=typeof globalThis<"u"?globalThis:a||self,h(a["vue-web3-auth"]={},a.wagmiCoreChains,a.vue,a.wagmiCore,a.web3modalEthereum,a.web3modalHtml,a.jsEventBus))})(this,function(a,h,l,y,w,$,E){"use strict";function S(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const i in e)if(i!=="default"){const s=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>e[i]})}}return t.default=e,Object.freeze(t)}const j=S(h);var _={id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xc0497E381f536Be9ce14B0dD3817cBcAe57d2F62",blockCreated:16966585},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}};function Q(e){return e}const D=_,n=l.reactive({autoInit:!0,projectId:"",chains:[D],autoConnect:!0,disconnectUnknownChain:!0,reconnectToChain:!0,logEnabled:!1,web3modalOptions:{themeMode:"light",themeVariables:{}}});function N(e){"autoInit"in e&&(n.autoInit=e.autoInit),"projectId"in e&&(n.projectId=e.projectId),"chains"in e&&(n.chains=e.chains),"autoConnect"in e&&(n.autoConnect=e.autoConnect),"disconnectUnknownChain"in e&&(n.disconnectUnknownChain=e.disconnectUnknownChain),"reconnectToChain"in e&&(n.reconnectToChain=e.reconnectToChain),"logEnabled"in e&&(n.logEnabled=e.logEnabled),"web3modalOptions"in e&&("themeMode"in e.web3modalOptions&&(n.web3modalOptions.themeMode=e.web3modalOptions.themeMode),"themeVariables"in e.web3modalOptions&&(n.web3modalOptions.themeVariables=e.web3modalOptions.themeVariables))}const c=l.reactive({bufferChain:null,currentChain:null}),M=l.computed(()=>c.currentChain?c.currentChain:n.chains[0]);function U(){return n.chains}async function A(e){var t;o.value||T(),await((t=I.client)==null?void 0:t.switchNetwork({chainId:e.id}))}async function x(){var e;o.value||T(),await((e=o.value)==null?void 0:e.openModal({route:"SelectNetwork"}))}function r(...e){n.logEnabled&&console.log("[WC]",...e)}var u=(e=>(e.Connected="connected",e.Disconnected="disconnect",e.ChainSwitched="chain_switched",e.UnknownChain="unknown_chain",e.ModalStateChanged="modal_state_changed",e))(u||{});const C=new E;function d(e,...t){e===u.Connected||e===u.Disconnected?(c.currentChain=c.bufferChain,m.currentAccount=m.bufferAccount):e===u.ChainSwitched&&(c.currentChain=c.bufferChain),C.emit(e,null,...t)}function H(e,t){C.on(e,t),n.logEnabled&&r(`Subscribe for ${e} event.`)}function L(e,t){C.detach(e,t),n.logEnabled&&r(`Unsubscribe for ${e} event.`)}const o=l.ref(null);function R(e){var t;o.value=new $.Web3Modal({projectId:n.projectId,...(n==null?void 0:n.web3modalOptions)||[]},e),(t=o.value)==null||t.subscribeModal(({open:i})=>{d(u.ModalStateChanged,i)})}const m=l.reactive({bufferAccount:null,currentAccount:null}),p=l.reactive({connected:!1,address:void 0,shortAddress:void 0});async function g(){await y.disconnect()}async function q(e){var t,i;o.value||T(),e instanceof Event&&(e=n.chains[0]),(t=o.value)==null||t.setDefaultChain(e||n.chains[0]),await((i=o.value)==null?void 0:i.openModal({route:"ConnectWallet"}))}async function F(){var e;o.value||T(),await((e=o.value)==null?void 0:e.openModal({route:"Account"}))}function v(e=""){return`${e.slice(0,5)}...${e.slice(-4)}`}l.watch(()=>m.currentAccount,e=>{e?(p.connected=!0,p.address=e.address,p.shortAddress=v(e.address)):(p.connected=!1,p.address=void 0,p.shortAddress=void 0)});let k;const I=l.reactive({client:null});function b(e){return String(e).toLowerCase()}async function P([e,t],[i,s]){if(n.disconnectUnknownChain&&(!i&&n.disconnectUnknownChain||i)&&t&&!n.chains.some(f=>f.id===t.id)){await g(),s&&(d(u.Disconnected),r(`account ${e.address} disconnected from ${b(s.name)} chain.`)),d(u.UnknownChain,{chain:t}),r("switched to unsupported chain.");return}(i==null?void 0:i.address)!==(e==null?void 0:e.address)&&!(s!=null&&s.unsupported)&&(i&&(d(u.Disconnected),r(`account ${i.address} disconnected from ${b(s.name)} chain.`)),e&&(d(u.Connected,{chain:c.bufferChain,account:m.bufferAccount}),r(`account ${e.address} connected to ${b(t.name)} chain.`))),s&&t&&s.id!==t.id&&(n.reconnectToChain?(d(u.Disconnected),r(`account ${i.address} disconnected from ${b(s.name)} chain.`),d(u.Connected,{chain:c.bufferChain,account:m.bufferAccount}),r(`account ${e.address} connected to ${b(t.name)} chain.`)):(d(u.ChainSwitched,{chain:t}),r(`account ${e.address} switched to ${b(t.name)} chain.`)))}function O([e,t],[i,s]){clearTimeout(k),k=setTimeout(P,200,[e,t],[i,s])}function T(){if(o.value)return;const{publicClient:e}=y.configureChains(l.toRaw(n.chains),[w.w3mProvider({projectId:n.projectId})]),t=y.createConfig({autoConnect:n.autoConnect,connectors:w.w3mConnectors({projectId:n.projectId,version:2,chains:l.toRaw(n.chains)}),publicClient:e});y.watchNetwork(s=>{var f;(f=s.chain)!=null&&f.unsupported&&(s.chain.name="Unsupported"),c.bufferChain=s.chain||null}),y.watchAccount(s=>{m.bufferAccount=s.address?s:null}),l.watch([()=>m.bufferAccount,()=>c.bufferChain],O);const i=new w.EthereumClient(t,l.toRaw(n.chains));I.client=i,R(i)}function W(e){return{install(){N(e),T()}}}async function z(e){return y.readContract({chainId:e.chain||M.value.id,address:e.address,abi:e.abi,functionName:e.functionName,args:e.args||[],account:p.address,blockNumber:e.blockNumber,blockTag:e.blockTag})}async function V(e){const t=[];return e.calls.forEach(i=>{i.calls.forEach(([s,f])=>{t.push({address:i.contractAddress,abi:i.abi,functionName:s,args:f})})}),await y.multicall({chainId:e.chainId,contracts:t,multicallAddress:e.multicallAddress,blockTag:e.blockTag,blockNumber:e.blockNumber,batchSize:e.batchSize,allowFailure:e.allowFailure})}const Y=[{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"Burn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"}],name:"Mint",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount0In",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1In",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount0Out",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1Out",type:"uint256"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"Swap",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint112",name:"reserve0",type:"uint112"},{indexed:!1,internalType:"uint112",name:"reserve1",type:"uint112"}],name:"Sync",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{constant:!0,inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"MINIMUM_LIQUIDITY",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"PERMIT_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"}],name:"burn",outputs:[{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getReserves",outputs:[{internalType:"uint112",name:"_reserve0",type:"uint112"},{internalType:"uint112",name:"_reserve1",type:"uint112"},{internalType:"uint32",name:"_blockTimestampLast",type:"uint32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_token0",type:"address"},{internalType:"address",name:"_token1",type:"address"}],name:"initialize",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"kLast",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[{internalType:"uint256",name:"liquidity",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"price0CumulativeLast",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"price1CumulativeLast",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"}],name:"skim",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"amount0Out",type:"uint256"},{internalType:"uint256",name:"amount1Out",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"swap",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"sync",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"token0",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"token1",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalBurned",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],G=[{inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Multicall.Call[]",name:"calls",type:"tuple[]"}],name:"aggregate",outputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"},{internalType:"bytes[]",name:"returnData",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"getBlockHash",outputs:[{internalType:"bytes32",name:"blockHash",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockCoinbase",outputs:[{internalType:"address",name:"coinbase",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockDifficulty",outputs:[{internalType:"uint256",name:"difficulty",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockGasLimit",outputs:[{internalType:"uint256",name:"gaslimit",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"}],name:"getEthBalance",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLastBlockHash",outputs:[{internalType:"bytes32",name:"blockHash",type:"bytes32"}],stateMutability:"view",type:"function"}];a.Chains=j,a.$off=L,a.$on=H,a.Events=u,a.account=p,a.accountDetails=F,a.chain=M,a.connect=q,a.createWeb3Auth=W,a.disconnect=g,a.erc20ABI=Y,a.getAvailableChains=U,a.multicall=V,a.multicallABI=G,a.readContract=z,a.selectChain=x,a.shortAddressFilter=v,a.switchChain=A,Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})});
